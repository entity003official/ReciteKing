# 假名背诵王式背诵次数功能实现

## 功能概述
按照假名背诵王的逻辑实现了精确的背诵次数管理，确保只有答对才减少背诵次数。

## 核心逻辑

### 1. 背诵次数规则
- ✅ **答对减1**：只有回答正确时，背诵次数才会减1
- ❌ **错误不减**：回答错误时，背诵次数保持不变
- ❌ **提示不减**：使用提示时，背诵次数保持不变  
- ❌ **跳过不减**：跳过题目时，背诵次数保持不变

### 2. 队列管理
- 每个单词根据设置的背诵次数生成对应数量的练习实例
- 答对后立即移除该单词在队列中的所有剩余实例
- 错误/提示/跳过后继续保留后续的练习机会

### 3. 进度显示
- 显示当前背诵进度：第几次/总次数
- 显示剩余背诵次数
- 实时更新练习进度条

## 技术实现

### 数据结构
```javascript
// 原始单词数据保持背诵次数状态
originalWords = [
  {word: "こんにちは", meaning: "你好", repeatCount: 3, ...}
]

// 练习队列包含重复的单词实例
words = [
  {meaning: "你好", currentRepeat: 1, totalRepeats: 3, remainingCount: 3, ...},
  {meaning: "你好", currentRepeat: 2, totalRepeats: 3, remainingCount: 2, ...},
  {meaning: "你好", currentRepeat: 3, totalRepeats: 3, remainingCount: 1, ...}
]
```

### 关键方法
- `checkAnswer()`: 处理答案验证和背诵次数更新
- `removeRemainingInstancesOfCurrentWord()`: 答对后清理队列
- `showHint()`: 提示功能，不影响背诵次数
- `skipQuestion()`: 跳过功能，不影响背诵次数

## 测试方法
1. 进入单词选择页面，选择单词并设置背诵次数（如3次）
2. 开始练习，验证以下场景：
   - 第一次答对：背诵次数减为2，该单词后续实例被移除
   - 第一次答错：背诵次数保持3，继续下一题
   - 使用提示：背诵次数保持不变
   - 跳过题目：背诵次数保持不变

## 控制台日志
代码中添加了详细的控制台日志，可以通过浏览器开发者工具查看：
- 背诵次数变化记录
- 队列清理操作记录
- 提示和跳过操作记录

## 访问地址
启动服务器后访问：http://localhost:8080/word-typing.html
