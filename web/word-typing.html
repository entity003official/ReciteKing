<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å‡åèƒŒè¯µç‹ - å•è¯è¾“å…¥ç»ƒä¹ </title>
    <style>
        /* å¯¼èˆªæ ·å¼ */
        .nav-header {
            position: sticky;
            top: 0;
            z-index: 100;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: -20px -20px 2rem -20px;
            padding: 1rem 2rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            border-radius: 0 0 16px 16px;
        }

        .nav-content {
            max-width: 800px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-header h1 {
            color: white;
            margin: 0;
            font-size: 1.5rem;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .nav-links {
            display: flex;
            gap: 0.5rem;
            background: rgba(255, 255, 255, 0.1);
            padding: 0.3rem;
            border-radius: 12px;
            backdrop-filter: blur(10px);
        }

        .nav-links a {
            padding: 0.6rem 1rem;
            text-decoration: none;
            color: white;
            border-radius: 8px;
            transition: all 0.3s ease;
            font-weight: 500;
            font-size: 0.9rem;
            position: relative;
            overflow: hidden;
        }

        .nav-links a:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-1px);
        }

        .nav-links a.active {
            background: linear-gradient(45deg, #ff6b6b, #ffd93d);
            color: #333;
            font-weight: 600;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .nav-links a.active:hover {
            transform: translateY(-1px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }

        @media (max-width: 768px) {
            .nav-header {
                padding: 1rem;
            }
            
            .nav-content {
                flex-direction: column;
                gap: 1rem;
            }
            
            .nav-header h1 {
                font-size: 1.3rem;
            }
            
            .nav-links a {
                padding: 0.5rem 0.8rem;
                font-size: 0.8rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <nav class="nav-header">
                <div class="nav-content">
                    <h1>ğŸŒ å‡åèƒŒè¯µç‹ - å•è¯ç»ƒä¹ </h1>
                    <div class="nav-links">
                        <a href="index.html">ğŸ  é¦–é¡µ</a>
                        <a href="word-typing.html" class="active">âœï¸ å•è¯è¾“å…¥</a>
                        <a href="curriculum-selection.html">ğŸ“š è¯¾ç¨‹ç»ƒä¹ </a>
                        <a href="curriculum-stats.html">ğŸ“Š è¯¾ç¨‹ç»Ÿè®¡</a>
                    </div>
                </div>
            </nav>
        </header>

        <!-- ä¸»èœå• -->
        <main id="mainMenu" class="main-content">
            <div class="welcome-section">
                <h2>ğŸ“ æ—¥è¯­å•è¯è¾“å…¥ç»ƒä¹ </h2>
                <p>é€šè¿‡ä¸­æ–‡é‡Šä¹‰ç»ƒä¹ å‡åè¾“å…¥ï¼Œæé«˜æ—¥è¯­è¾“å…¥æŠ€èƒ½</p>
            </div>

            <!-- ç»ƒä¹ è®¾ç½® -->
            <section class="settings-panel">
                <h3>âš™ï¸ ç»ƒä¹ è®¾ç½®</h3>
                
                <div class="setting-row">
                    <label for="wordDifficulty">éš¾åº¦ç­‰çº§ï¼š</label>
                    <select id="wordDifficulty" class="setting-select">
                        <option value="1">åˆçº§ (åŸºç¡€å•è¯)</option>
                        <option value="2">ä¸­çº§ (å¸¸ç”¨å•è¯)</option>
                        <option value="3">é«˜çº§ (å¤æ‚å•è¯)</option>
                        <option value="all" selected>å…¨éƒ¨éš¾åº¦</option>
                    </select>
                </div>

                <div class="setting-row">
                    <label for="wordCategory">å•è¯ç±»å‹ï¼š</label>
                    <select id="wordCategory" class="setting-select">
                        <option value="all" selected>å…¨éƒ¨ç±»å‹</option>
                        <option value="åè¯">åè¯</option>
                        <option value="åŠ¨è¯">åŠ¨è¯</option>
                        <option value="å½¢å®¹è¯">å½¢å®¹è¯</option>
                    </select>
                </div>

                <div class="setting-row">
                    <label for="practiceMode">ç»ƒä¹ æ¨¡å¼ï¼š</label>
                    <select id="practiceMode" class="setting-select">
                        <option value="practice" selected>ç»ƒä¹ æ¨¡å¼ (æ˜¾ç¤ºæç¤º)</option>
                        <option value="test">æµ‹è¯•æ¨¡å¼ (æ— æç¤º)</option>
                        <option value="review">å¤ä¹ æ¨¡å¼ (é”™è¯¯é‡ç»ƒ)</option>
                    </select>
                </div>

                <div class="setting-row">
                    <label for="wordCount">ç»ƒä¹ æ•°é‡ï¼š</label>
                    <select id="wordCount" class="setting-select">
                        <option value="10" selected>10ä¸ª</option>
                        <option value="20">20ä¸ª</option>
                        <option value="30">30ä¸ª</option>
                        <option value="50">50ä¸ª</option>
                        <option value="all">å…¨éƒ¨</option>
                    </select>
                </div>
            </section>

            <div class="start-section">
                <button class="start-btn" onclick="startWordPractice()">
                    ğŸ¯ å¼€å§‹å•è¯ç»ƒä¹ 
                </button>
            </div>
        </main>

        <!-- ç»ƒä¹ ç•Œé¢ -->
        <main id="practiceScreen" class="practice-content" style="display: none;">
            <div class="practice-header">
                <button class="back-btn" onclick="backToMenu()">â† è¿”å›</button>
                <div class="progress-info">
                    <span id="currentWordProgress">1 / 10</span>
                    <span class="score-info">å¾—åˆ†: <span id="currentScore">0</span></span>
                </div>
            </div>

            <!-- é¢˜ç›®æ˜¾ç¤ºåŒº -->
            <div class="question-area">
                <div class="question-card">
                    <div class="chinese-meaning">
                        <span id="chineseMeaning">çˆ±æƒ…</span>
                    </div>
                    <div class="word-info">
                        <div class="kanji-word" id="kanjiWord" style="display: none;">æ„›</div>
                        <div class="word-category">
                            <span id="wordCategory">åè¯</span> | 
                            <span id="wordDifficulty">éš¾åº¦: â˜…â˜†â˜†</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- è¾“å…¥åŒºåŸŸ -->
            <div class="input-section">
                <div class="input-area">
                    <div class="kana-display">
                        <span id="kanaDisplay">ã‚ã„</span>
                    </div>
                    <div class="romaji-input-container">
                        <input type="text" 
                               id="romajiInput" 
                               placeholder="è¾“å…¥ç½—é©¬éŸ³ (å¦‚: ai)"
                               autocomplete="off"
                               autocapitalize="off"
                               spellcheck="false">
                        <button class="clear-btn" onclick="clearInput()">æ¸…ç©º</button>
                    </div>
                </div>

                <!-- å‡åé€‰æ‹©å™¨ -->
                <div class="kana-selector" id="kanaSelector" style="display: none;">
                    <div class="selector-header">
                        <span class="selector-title">é€‰æ‹©å‡å:</span>
                        <div class="kana-type-switch">
                            <button class="type-btn active" data-type="hiragana">å¹³å‡å</button>
                            <button class="type-btn" data-type="katakana">ç‰‡å‡å</button>
                        </div>
                    </div>
                    <div class="kana-options" id="kanaOptions"></div>
                </div>

                <!-- æäº¤æŒ‰é’® -->
                <div class="submit-section">
                    <button class="submit-btn" onclick="submitAnswer()" id="submitBtn" disabled>
                        âœ“ æäº¤ç­”æ¡ˆ
                    </button>
                    <button class="hint-btn" onclick="showHint()" id="hintBtn">
                        ğŸ’¡ æ˜¾ç¤ºæç¤º
                    </button>
                </div>
            </div>

            <!-- ç­”æ¡ˆåé¦ˆ -->
            <div class="feedback-area" id="feedbackArea" style="display: none;">
                <div class="feedback-card">
                    <div class="feedback-result" id="feedbackResult">
                        <span class="result-icon">âœ“</span>
                        <span class="result-text">æ­£ç¡®ï¼</span>
                    </div>
                    <div class="correct-answer">
                        <div class="answer-display">
                            <span class="kana-answer" id="correctKana">ã‚ã„</span>
                            <span class="kanji-answer" id="correctKanji">æ„›</span>
                        </div>
                        <div class="answer-romaji" id="correctRomaji">ai</div>
                    </div>
                    <button class="next-word-btn" onclick="nextWord()">
                        ä¸‹ä¸€ä¸ªå•è¯ â†’
                    </button>
                </div>
            </div>
        </main>

        <!-- ç»“æœç•Œé¢ -->
        <main id="resultScreen" class="result-content" style="display: none;">
            <div class="result-card">
                <h2>ğŸ‰ ç»ƒä¹ å®Œæˆï¼</h2>
                <div class="final-stats">
                    <div class="stat-item">
                        <span class="stat-label">æ€»é¢˜æ•°ï¼š</span>
                        <span class="stat-value" id="totalQuestions">10</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">æ­£ç¡®æ•°ï¼š</span>
                        <span class="stat-value" id="correctAnswers">8</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">æ­£ç¡®ç‡ï¼š</span>
                        <span class="stat-value" id="accuracyRate">80%</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">æ€»å¾—åˆ†ï¼š</span>
                        <span class="stat-value" id="finalScore">160</span>
                    </div>
                </div>

                <!-- é”™è¯¯å›é¡¾ -->
                <div class="error-review" id="errorReview" style="display: none;">
                    <h3>ğŸ“‹ é”™è¯¯å›é¡¾</h3>
                    <div class="error-list" id="errorList"></div>
                </div>

                <div class="result-actions">
                    <button class="restart-btn" onclick="startWordPractice()">ğŸ”„ é‡æ–°ç»ƒä¹ </button>
                    <button class="review-btn" onclick="startReviewMode()" id="reviewBtn" style="display: none;">
                        ğŸ“– å¤ä¹ é”™é¢˜
                    </button>
                    <button class="menu-btn" onclick="backToMenu()">ğŸ“‹ è¿”å›è®¾ç½®</button>
                </div>
            </div>
        </main>
    </div>

    <!-- ç½—é©¬éŸ³é”®ç›˜ -->
    <div class="romaji-keyboard" id="romajiKeyboard" style="display: none;">
        <div class="keyboard-header">
            <span>ç½—é©¬éŸ³é”®ç›˜</span>
            <button class="close-keyboard" onclick="closeKeyboard()">Ã—</button>
        </div>
        <div class="keyboard-rows">
            <div class="keyboard-row">
                <button class="key-btn" onclick="addRomaji('a')">a</button>
                <button class="key-btn" onclick="addRomaji('i')">i</button>
                <button class="key-btn" onclick="addRomaji('u')">u</button>
                <button class="key-btn" onclick="addRomaji('e')">e</button>
                <button class="key-btn" onclick="addRomaji('o')">o</button>
                <button class="key-btn" onclick="addRomaji('n')">n</button>
            </div>
            <div class="keyboard-row">
                <button class="key-btn" onclick="addRomaji('k')">k</button>
                <button class="key-btn" onclick="addRomaji('s')">s</button>
                <button class="key-btn" onclick="addRomaji('t')">t</button>
                <button class="key-btn" onclick="addRomaji('h')">h</button>
                <button class="key-btn" onclick="addRomaji('m')">m</button>
                <button class="key-btn" onclick="addRomaji('r')">r</button>
            </div>
            <div class="keyboard-row">
                <button class="key-btn" onclick="addRomaji('y')">y</button>
                <button class="key-btn" onclick="addRomaji('w')">w</button>
                <button class="key-btn" onclick="addRomaji('g')">g</button>
                <button class="key-btn" onclick="addRomaji('z')">z</button>
                <button class="key-btn" onclick="addRomaji('d')">d</button>
                <button class="key-btn" onclick="addRomaji('b')">b</button>
            </div>
            <div class="keyboard-row">
                <button class="key-btn" onclick="addRomaji('p')">p</button>
                <button class="key-btn" onclick="addRomaji('j')">j</button>
                <button class="key-btn" onclick="addRomaji('c')">c</button>
                <button class="key-btn special" onclick="addRomaji('shi')">shi</button>
                <button class="key-btn special" onclick="addRomaji('chi')">chi</button>
                <button class="key-btn special" onclick="addRomaji('tsu')">tsu</button>
            </div>
            <div class="keyboard-row">
                <button class="key-btn backspace" onclick="backspaceRomaji()">âŒ«</button>
                <button class="key-btn space" onclick="addSpace()">Space</button>
                <button class="key-btn enter" onclick="confirmInput()">Enter</button>
            </div>
        </div>
    </div>

    <script src="kana-data.js"></script>
    <script src="romaji-converter.js"></script>
    <script src="word-typing.js"></script>
</body>
</html>
