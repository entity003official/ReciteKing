# 日语单词输入练习功能说明

## 🎌 功能概述

新增的单词输入练习功能让用户能够通过中文释义练习日语单词的假名输入，是对原有假名背诵功能的重要扩展。

## 📱 访问方式

1. **Web端**: 访问 `http://127.0.0.1:8000/word-typing.html`
2. **导航**: 在主页面点击"单词输入"标签页

## ⭐ 核心功能

### 1. 智能练习设置
- **难度等级**: 初级/中级/高级/全部难度
- **单词类型**: 名词/动词/形容词/全部类型  
- **练习模式**:
  - 练习模式: 显示提示和汉字
  - 测试模式: 无提示纯测试
  - 复习模式: 专门复习错误单词
- **练习数量**: 10/20/30/50个或全部

### 2. 罗马音键盘
- **内嵌键盘**: 页面底部可展开的罗马音键盘
- **智能按键**: 包含所有日语罗马音字母组合
- **特殊按键**: shi、chi、tsu等特殊音节
- **快捷操作**: 退格、空格、回车键

### 3. 实时转换提示
- **输入预览**: 实时显示罗马音转假名结果
- **智能建议**: 提供可能的输入补全
- **错误纠正**: 识别常见输入错误并给出建议

### 4. 练习模式详解

#### 练习模式 (推荐初学者)
- 显示汉字提示
- 实时转换预览
- 可查看提示 (扣分)
- 错误时显示正确答案

#### 测试模式 (适合进阶)
- 隐藏汉字
- 无实时提示
- 纯凭记忆输入
- 更高得分奖励

#### 复习模式 (针对性练习)
- 仅练习之前答错的单词
- 重复练习直到掌握
- 适合巩固薄弱环节

### 5. 得分系统
- **基础分数**: 每题10分
- **难度奖励**: 难度1(+0分)、难度2(+5分)、难度3(+10分)
- **提示扣分**: 查看提示扣5分
- **准确率统计**: 实时计算正确率

## 🎯 使用流程

### 第一步: 选择设置
1. 选择适合的难度等级
2. 选择想练习的单词类型
3. 选择练习模式
4. 设置练习数量

### 第二步: 开始练习
1. 看到中文释义后思考对应的日语单词
2. 使用键盘或屏幕键盘输入罗马音
3. 观察实时转换提示 (练习模式)
4. 点击提交按钮确认答案

### 第三步: 查看反馈
1. 系统显示答案正确性
2. 展示正确的假名、汉字和罗马音
3. 累计得分和进度

### 第四步: 查看结果
1. 练习完成后查看总体统计
2. 回顾错误题目和正确答案
3. 选择重新练习或复习错题

## 🔧 技术特性

### 智能输入处理
- **罗马音验证**: 只允许有效的罗马音字符
- **自动转换**: 实时将罗马音转换为假名
- **容错处理**: 识别并纠正常见打字错误

### 假名转换引擎
- **双向转换**: 罗马音↔假名互相转换
- **复杂音节**: 支持拗音、长音、促音等
- **智能匹配**: 优先匹配完整的音节组合

### 数据管理
- **CSV格式**: 易于扩展的单词数据格式
- **动态筛选**: 根据设置实时筛选单词
- **统计追踪**: 详细的练习统计和错误记录

## 📊 单词数据结构

单词数据存储在 `japanese_words.csv` 文件中：

```csv
假名,汉字,释义,类别,难度
あい,愛,爱情,名词,1
みず,水,水,名词,1
たべる,,吃,动词,1
おおきい,,大的,形容词,2
```

### 字段说明:
- **假名**: 标准平假名写法
- **汉字**: 对应汉字 (可选)
- **释义**: 中文含义
- **类别**: 名词/动词/形容词
- **难度**: 1(初级)/2(中级)/3(高级)

## 🎮 键盘操作

### 屏幕键盘
- **显示/隐藏**: 点击右下角键盘图标
- **字母输入**: 点击对应罗马音字母
- **特殊音节**: 直接输入shi、chi、tsu
- **删除**: 退格键删除最后一个字符
- **确认**: 回车键提交答案

### 实体键盘
- **正常输入**: 直接用键盘输入罗马音
- **回车提交**: Enter键提交答案
- **ESC键**: 关闭屏幕键盘

## 📱 响应式设计

- **手机适配**: 触摸友好的大按钮设计
- **平板优化**: 合理的网格布局
- **桌面体验**: 完整的键盘快捷键支持

## 🔄 与原功能整合

### 导航切换
- 假名背诵 ↔ 单词输入 无缝切换
- 保持一致的设计风格
- 共享假名数据和转换引擎

### 数据同步
- 使用相同的假名数据库
- 共享罗马音转换逻辑
- 统一的错误处理机制

## 🚀 未来扩展

### 计划功能
- **语音输入**: 语音识别罗马音输入
- **词汇本**: 收藏和管理生词
- **进度跟踪**: 长期学习进度统计
- **社交功能**: 分享学习成果

### 技术优化
- **离线支持**: PWA离线功能
- **数据同步**: 云端学习记录同步
- **AI辅助**: 智能推荐练习内容

---

## 💡 使用建议

1. **初学者**: 建议使用练习模式，从初级难度开始
2. **进阶者**: 使用测试模式挑战更高难度
3. **复习**: 定期使用复习模式巩固错题
4. **持续练习**: 每天练习20-30个单词效果最佳

通过这个功能，用户可以从被动的假名识别转向主动的单词输入，大大提高日语学习效果！
