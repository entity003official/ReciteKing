# 💡 Git最佳实践指南

## 🎯 提交频率

### 建议的提交频率
- **功能开发**: 每完成一个小功能就提交
- **Bug修复**: 每修复一个问题就提交
- **文档更新**: 每次文档修改就提交
- **样式调整**: 批量样式修改一次提交

### 避免的提交方式
- ❌ 一天结束时把所有修改一次性提交
- ❌ 包含多个不相关修改的大提交
- ❌ 提交破损或未完成的代码

## 📝 提交信息质量

### 优质提交信息特征
✅ **清晰简洁**: 50字符以内的标题  
✅ **动词开头**: 使用祈使语态  
✅ **说明原因**: 解释为什么做这个修改  
✅ **关联问题**: 引用相关的issue编号  

### 示例对比

#### ✅ 好的提交信息
```
feat(web): 添加固定导航栏功能

- 导航栏固定在页面顶部，滚动时始终可见
- 当前页面使用橙红渐变色高亮显示  
- 保留返回首页选项，提升导航体验
- 添加移动端响应式适配

解决用户反馈的导航不便问题 #25
```

#### ❌ 需要改进的提交信息
```
"修改了导航栏"
"更新文件"  
"fix"
"WIP"
```

## 🌿 分支管理策略

### Git Flow 简化版

```
main (主分支)
├── feature/课程选择系统    ← 新功能开发
├── fix/导航栏显示问题      ← 问题修复
└── docs/用户指南更新       ← 文档更新
```

### 分支生命周期
1. **创建分支**: `git checkout -b feature/功能名称`
2. **开发代码**: 在分支上进行开发
3. **提交代码**: `git commit -m "描述"`
4. **合并主分支**: `git checkout main && git merge feature/功能名称`
5. **删除分支**: `git branch -d feature/功能名称`

## 🔍 代码审查

### 自我审查清单
- [ ] 代码逻辑正确
- [ ] 命名清晰易懂
- [ ] 注释充分合理
- [ ] 无调试代码残留
- [ ] 符合项目代码风格
- [ ] 测试功能正常

### 工具辅助审查
```bash
# 查看修改差异
git diff

# 查看暂存区差异  
git diff --staged

# 查看文件修改历史
git log --follow 文件名

# 查看特定提交的修改
git show 提交哈希
```

## 📊 项目健康度指标

### 代码质量指标
- **提交频率**: 每周3-5次较为健康
- **提交大小**: 每次修改50-200行代码
- **分支数量**: 保持3-5个活跃分支
- **文档覆盖**: 每个功能都有对应文档

### 监控命令
```bash
# 查看提交活动
git log --since="1 week ago" --oneline

# 查看文件修改频率
git log --stat --since="1 month ago"

# 查看代码贡献分布
git shortlog -sn
```

## 🚀 自动化工具

### 可用脚本
- `git-manager.bat` - 主管理界面
- `quick-commit.bat` - 快速提交工具
- `create-release.bat` - 版本发布工具
- `git-stats.bat` - 统计信息工具
- `backup-project.bat` - 项目备份工具

### 使用建议
1. **日常开发**: 使用 `quick-commit.bat`
2. **版本发布**: 使用 `create-release.bat`  
3. **项目统计**: 使用 `git-stats.bat`
4. **定期备份**: 使用 `backup-project.bat`

## 🛡️ 数据安全

### 备份策略
- **本地备份**: 使用备份脚本定期备份
- **远程备份**: GitHub作为远程备份
- **版本标签**: 重要版本打标签保存

### 恢复策略
```bash
# 恢复到特定提交
git checkout 提交哈希

# 恢复特定文件
git checkout HEAD~1 -- 文件名

# 恢复到标签版本
git checkout v2.0.0
```
